# 코딩 가이드라인 (Coding Guidelines)

이 문서는 `DN_solution` 프로젝트의 모든 코드 작성에 적용되는 핵심 원칙과 가이드라인을 정의합니다. 이 가이드라인은 코드의 품질, 유지보수성, 확장성 및 협업 효율성을 극대화하는 것을 목표로 합니다. 모든 코드 작성자(인간 개발자 및 AI 코드 생성 도구 포함)는 이 원칙을 준수해야 합니다.

## 1. 핵심 코딩 원칙

### 1.1. 단일 책임 원칙 (Single Responsibility Principle - SRP)

*   **원칙:** 모든 클래스, 모듈 또는 함수는 단 하나의, 명확하게 정의된 책임만을 가져야 합니다. 즉, 변경될 이유가 오직 하나여야 합니다.
*   **적용:**
    *   함수는 하나의 작업을 수행하고, 그 작업에 대한 결과만을 반환해야 합니다.
    *   클래스는 특정 데이터 또는 기능 집합에 대한 단일 책임을 가져야 합니다.
    *   예: `Company` 모델은 업체 정보 관리 책임, `CompanySerializer`는 업체 데이터 직렬화/역직렬화 책임, `CompanyViewSet`은 업체 관련 API 엔드포인트 처리 책임.

### 1.2. 디자인 패턴 활용 (Gang of Four - GoF Patterns)

*   **원칙:** 검증된 디자인 패턴을 적절히 활용하여 일반적인 소프트웨어 설계 문제를 해결하고, 코드의 구조를 표준화하며, 재사용성을 높입니다.
*   **적용:**
    *   Django의 MVT(Model-View-Template) 패턴은 이미 적용된 구조적 패턴입니다.
    *   DRF의 `ViewSet`과 `Serializer`는 각각 Command 패턴과 Adapter/Strategy 패턴의 개념을 내포합니다.
    *   필요에 따라 Factory, Builder, Strategy, Observer 등 다른 GoF 패턴을 적용하여 복잡한 로직을 단순화하고 확장성을 확보합니다.

### 1.3. 애자일(Agile) 개발 방법론 준수

*   **원칙:** 유연하고 반복적인 개발을 통해 변화에 빠르게 대응하고, 지속적인 개선을 추구합니다.
*   **적용:**
    *   작은 단위의 기능 구현 및 테스트를 반복합니다.
    *   코드 리뷰를 통해 지속적으로 품질을 개선합니다.
    *   요구사항 변경에 유연하게 대응할 수 있는 코드 구조를 유지합니다.

## 2. 클린 코드 (Clean Code) 규칙

### 2.1. 명확하고 의도적인 이름 지정

*   **원칙:** 변수, 함수, 클래스, 모듈 등 모든 식별자는 그 목적과 역할을 명확하게 드러내도록 이름을 지정해야 합니다.
*   **적용:**
    *   함수명은 동사+명사 형태로 `get_company_list()`, `create_company_user()`, `toggle_status()`와 같이 동작을 명확히 나타냅니다.
    *   변수명은 `company_name`, `user_role`, `parent_company_id`와 같이 데이터의 의미를 명확히 나타냅니다.
    *   약어 사용은 지양하며, 보편적으로 통용되는 약어(예: `id`, `API`)만 허용합니다.

### 2.2. 주석 활용 (Why, Not What)

*   **원칙:** 주석은 코드의 `무엇(What)`이 아닌 `왜(Why)` 그렇게 작성되었는지, `어떤 원리`로 동작하는지, 그리고 `어떤 다른 기능/함수와 연결`되는지를 설명하는 데 사용합니다.
*   **적용:**
    *   복잡한 로직, 비즈니스 규칙, 특정 디자인 결정에 대한 설명을 주석으로 남깁니다.
    *   함수나 클래스의 시작 부분에 해당 기능의 목적, 입력, 출력, 주요 동작 원리를 간략하게 설명합니다.
    *   다른 모듈이나 기능과의 중요한 연결점(예: 특정 API 호출, 데이터 흐름)을 명시합니다.
    *   코드 자체로 명확한 부분에는 불필요한 주석을 달지 않습니다.

### 2.3. 로직의 단순화 및 복잡성 제한

*   **원칙:** 코드는 가능한 한 단순하고 이해하기 쉬워야 합니다. 복잡성을 줄여 오류 발생 가능성을 낮추고 유지보수성을 높입니다.
*   **적용:**
    *   함수 길이는 짧게 유지하고, 하나의 함수가 너무 많은 일을 하지 않도록 합니다.
    *   중첩된 조건문(if/else)이나 반복문은 최소화하고, 필요시 함수로 분리하여 가독성을 높입니다.
    *   매직 넘버(Magic Number)나 매직 스트링(Magic String) 사용을 지양하고, 상수로 정의하여 사용합니다.
    *   불필요한 추상화나 과도한 일반화는 피하고, 현재 요구사항을 명확하게 해결하는 데 집중합니다.

## 3. 확장성 고려 (Extensibility)

*   **원칙:** 미래의 기능 추가, 데이터 모델 변경, 시스템 확장 등을 용이하게 할 수 있도록 코드를 설계합니다.
*   **적용:**
    *   **기능 확장성:** 새로운 기능이 추가될 때 기존 코드를 최소한으로 수정하고 새로운 코드를 추가할 수 있도록 모듈화된 구조를 유지합니다 (개방-폐쇄 원칙).
        *   예: 새로운 업체 유형이 추가될 경우, `Company` 모델의 `TYPE_CHOICES`만 수정하고 관련 로직을 확장할 수 있도록 설계.
    *   **데이터 확장성:** 데이터 모델 변경(필드 추가/수정)이 발생했을 때, 관련 시리얼라이저, 뷰, 테스트 등이 쉽게 업데이트될 수 있도록 합니다.
        *   Django의 마이그레이션 시스템을 적극 활용합니다.
    *   **시스템 확장성:** API는 RESTful 원칙을 준수하여 다른 서비스나 프론트엔드 애플리케이션과의 연동을 용이하게 합니다.
        *   인증/권한 시스템은 유연하게 확장 가능하도록 설계합니다.

## 4. 테스트 용이성 (Testability)

*   **원칙:** 모든 코드는 테스트하기 쉬워야 합니다. 이는 코드의 신뢰성을 높이고, 리팩토링 및 기능 추가 시 안정성을 보장합니다.
*   **적용:**
    *   단일 책임 원칙을 준수하여 각 단위(함수, 클래스)가 독립적으로 테스트 가능하도록 합니다.
    *   의존성 주입(Dependency Injection) 패턴을 고려하여 외부 의존성을 쉽게 모의(mock)할 수 있도록 합니다.
    *   테스트 코드는 실제 코드만큼 중요하게 관리하며, 충분한 커버리지를 확보합니다.

## 5. 협업 및 일관성

*   **원칙:** 모든 개발자가 일관된 스타일과 규칙으로 코드를 작성하여 코드베이스의 통일성을 유지하고 협업 효율을 높입니다.
*   **적용:**
    *   PEP 8 (Python Style Guide)을 준수합니다.
    *   코드 포매터(예: Black, Prettier) 및 린터(예: Flake8, ESLint)를 사용하여 코드 스타일을 자동화하고 일관성을 유지합니다.
    *   변수명, 함수명, 클래스명 등의 명명 규칙을 통일합니다.

이 가이드라인은 `DN_solution` 프로젝트의 성공적인 개발과 지속적인 성장을 위한 기반이 될 것입니다. 모든 기여자는 이 원칙을 숙지하고 실천해야 합니다.
